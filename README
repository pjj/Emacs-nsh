Learn to M-x shell in emacs buffers and there is no going back to terminals!

Emacs-nsh adds amazing features to shells within buffers.  Name your
shells, and it will automatically keep separate histories for each of
your named shells.  Get Dropbox, and it will allow you to access all
your named-shell histories from all of your synced machines (or use
git to automagically store and sync them).  I've used nsh for years,
and it has saved me tons of time (it only gets better over time).
With a simple rg in your nsh_history directory you can find commands
you issued years ago.

Installation instructions:

1. Download nsh.el to your directory of elisp hacks, e.g. ~/.emacs.d/lisp/var/

2. Add the following line to your emacs init (or .emacs) file:

(load "/full_path_to_my_elisp/nsh.el")

2b. Alternatively, you can try use-package.  After configurint use-package,
in your own init.el, add the nsh-download directory to load-path:

(defvar user-elisp-directory (expand-file-name "~/.emacs.d/lisp"))
(add-to-list 'load-path (concat user-elisp-directory "/var"))

(use-package nsh
  :ensure t
  :bind (("<f9>" . nsh)))


3. Optionally, costomize the nsh variables, especially: Nsh Bash History Dir,
if you want to use a non-standard location for the histories.
The default location is ~/.nsh_history/

4. Optionally, customize the variable project-switch-commands
and add an entry for nsh calling the function nsh-in-project.
I typically bind it to the key 'n', so my customization entry is:
(nsh-in-project "Nsh" 110)


Usage:

Start a new named shell with: M-x nsh (Esc-x nsh; or bind to <f9>).  
Enter the shell's name in the minibuffer.  
You can auto-complete the name using your favorite completion solution; 
nsh will look up the names of all your existing histories).
